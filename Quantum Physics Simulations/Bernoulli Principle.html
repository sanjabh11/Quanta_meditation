<!DOCTYPE html><html><head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bernoulli Principle</title>
<style>
    body {
        margin: 0;
        overflow: hidden;
        font-family: Arial, sans-serif;
        background-color: #1a1a1a; /* Dark background */
    }
    #container {
        position: relative;
        width: 100vw;
        height: 100vh;
    }
    canvas {
        position: absolute;
        top: 0;
        left: 0;
        background-color: #1a1a1a; /* Dark background for canvas */
    }
    #controls {
        position: absolute;
        top: 10px;
        left: 10px;
        background: rgba(255, 255, 255, 0.1); /* Slightly transparent dark background */
        padding: 10px;
        border-radius: 5px;
        color: #ffffff; /* White text for better contrast */
    }
    #explanation {
        position: absolute;
        bottom: 10px;
        left: 10px;
        right: 10px;
        background: rgba(255, 255, 255, 0.1); /* Slightly transparent dark background */
        padding: 10px;
        border-radius: 5px;
        color: #ffffff; /* White text for better contrast */
    }
</style>
</head>
<body>
<div id="container">
    <canvas id="fluidCanvas"></canvas>
    <div id="controls">
    <label for="fluidSpeed">Fluid Speed: </label>
    <input type="range" id="fluidSpeed" min="0" max="100" value="50"><br>
    <label for="tubeWidth">Tube Width: </label>
    <input type="range" id="tubeWidth" min="20" max="100" value="60"><br>
    <button id="toggleExplanation">Toggle Explanation</button>
</div>
    <div id="explanation" style="display: none;">
    <h3>Bernoulli's Principle</h3>
    <p>Bernoulli's principle states that an increase in the speed of a fluid occurs simultaneously with a decrease in pressure or a decrease in the fluid's potential energy. Observe how the fluid particles move faster in the narrow section of the tube, demonstrating lower pressure in that area.</p>
</div>
</div>

<script>
const canvas = document.getElementById('fluidCanvas');
const ctx = canvas.getContext('2d');
const fluidSpeedInput = document.getElementById('fluidSpeed');
const tubeWidthInput = document.getElementById('tubeWidth');
const toggleExplanationBtn = document.getElementById('toggleExplanation');
const explanationDiv = document.getElementById('explanation');

let particles = [];
let fluidSpeed = 2;
let tubeWidth = 60;

function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}

function createParticle() {
    return {
        x: 0,
        y: Math.random() * canvas.height,
        speed: Math.random() * 0.5 + 0.5,
        color: getRandomColor()
    };
}

function getRandomColor() {
    const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#FFA07A', '#98D8C8'];
    return colors[Math.floor(Math.random() * colors.length)];
}

function drawTube() {
    const narrowWidth = tubeWidth / 2;
    ctx.beginPath();
    ctx.moveTo(0, 0);
    ctx.lineTo(canvas.width * 0.3, 0);
    ctx.quadraticCurveTo(canvas.width * 0.4, 0, canvas.width * 0.5, canvas.height / 2 - narrowWidth / 2);
    ctx.lineTo(canvas.width * 0.7, canvas.height / 2 - narrowWidth / 2);
    ctx.quadraticCurveTo(canvas.width * 0.8, canvas.height / 2, canvas.width, canvas.height / 2);
    ctx.quadraticCurveTo(canvas.width * 0.8, canvas.height / 2, canvas.width * 0.7, canvas.height / 2 + narrowWidth / 2);
    ctx.lineTo(canvas.width * 0.5, canvas.height / 2 + narrowWidth / 2);
    ctx.quadraticCurveTo(canvas.width * 0.4, canvas.height, canvas.width * 0.3, canvas.height);
    ctx.lineTo(0, canvas.height);
    ctx.closePath();
    ctx.fillStyle = 'rgba(100, 150, 200, 0.3)';
    ctx.fill();
    ctx.strokeStyle = '#4a90e2';
    ctx.stroke();
}

function updateParticle(particle) {
    particle.x += particle.speed * fluidSpeed;
    
    if (particle.x > canvas.width) {
        particle.x = 0;
        particle.y = Math.random() * canvas.height;
    }
    
    if (particle.x > canvas.width * 0.3 && particle.x < canvas.width * 0.7) {
        const narrowWidth = tubeWidth / 2;
        const center = canvas.height / 2;
        const distFromCenter = Math.abs(particle.y - center);
        const maxDist = canvas.height / 2;
        const t = (particle.x - canvas.width * 0.3) / (canvas.width * 0.4);
        const currentWidth = maxDist - t * (maxDist - narrowWidth);
        
        if (distFromCenter > currentWidth) {
            particle.y = center + (particle.y > center ? 1 : -1) * currentWidth;
        }
    }
}

function drawParticle(particle) {
    ctx.beginPath();
    ctx.arc(particle.x, particle.y, 3, 0, Math.PI * 2);
    ctx.fillStyle = particle.color;
    ctx.fill();
}

function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    
    drawTube();
    
    particles.forEach(particle => {
        updateParticle(particle);
        drawParticle(particle);
    });
    
    requestAnimationFrame(animate);
}

function init() {
    resizeCanvas();
    for (let i = 0; i < 200; i++) {
        particles.push(createParticle());
    }
    animate();
}

window.addEventListener('resize', resizeCanvas);

fluidSpeedInput.addEventListener('input', (e) => {
    fluidSpeed = e.target.value / 25;
});

tubeWidthInput.addEventListener('input', (e) => {
    tubeWidth = e.target.value;
});

toggleExplanationBtn.addEventListener('click', () => {
    explanationDiv.style.display = explanationDiv.style.display === 'none' ? 'block' : 'none';
});

init();
</script>

</body></html>
